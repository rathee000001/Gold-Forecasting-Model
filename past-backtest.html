<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Past Backtest — Gold Forecasting Model</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- HEADER (same on every page) -->
  <header class="site-header">
    <nav class="navbar" aria-label="Primary navigation">
      <div class="nav-left">
        <div class="coin-static" aria-hidden="true"></div>
        <div class="brand-title">Gold Forecasting Model</div>
      </div>

      <div class="nav-links">
        <a class="nav-link" href="index.html">Index</a>
        <a class="nav-link" href="methodology.html">Methodology</a>
        <a class="nav-link" href="excel-model.html">Excel Model</a>
        <a class="nav-link active" href="past-backtest.html">Past Backtest</a>
        <a class="nav-link" href="future-backtest.html">Future Backtest</a>
        <a class="nav-link" href="factors-drivers.html">Factors &amp; Drivers</a>
        <a class="nav-link" href="ai-log.html">Log</a>
      </div>
    </nav>

    <div class="progress-wrap" aria-hidden="true">
      <div class="progress-bar" id="progressBar"></div>
    </div>
  </header>

  <main class="main">

    <!-- =========================
         CONTAINER 1 — EXPLANATION + FORMULAS
         ========================= -->
    <section class="hero" aria-label="Past Backtest Explanation">
           <!-- ✅ background image = images/Sheet Forecast_Backtest_10Y.webp -->
<div class="hero-bg" aria-hidden="true"
     style='background-image: var(--hero-overlay), url("images/Sheet%20Forecast_Backtest_10Y.webp");'></div>

      <article class="hero-card wide">
        <h1 class="hero-title">Past Backtest</h1>

        <p class="hero-subtitle">
          This backtest compares the model’s predicted gold return (and implied price path) against actual historical
          gold behavior. The goal is to validate directionality and turning points for supply chain planning—rather
          than perfect price matching.
        </p>

        <div class="hero-meta" style="text-align:left; max-width: 920px;">
          <p><strong>Core Regression (Z-score):</strong></p>

          <div class="formula-box">
            <div class="formula-text">
              Gold_Return_Z = β₀
              <br />+ β₁ · US_Import_Return_Z
              <br />+ β₂ · USD_Return_Z
              <br />+ β₃ · Real_Rate_Z
              <br />+ β₄ · GPR_Index_Z
              <br />+ β₅ · CB_BRICS_Share_Change_Z
            </div>
          </div>

          <p style="margin-top: 1rem;"><strong>Convert predicted return to a price path:</strong></p>
          <div class="formula-box">
            <div class="formula-text">
              Predicted_Priceₜ = Predicted_Priceₜ₋₁ × (1 + Predicted_Returnₜ)
            </div>
          </div>

      </article>

      <!-- ONE fixed navigation row (no stacking) -->
      <div class="floating-nav" aria-label="Page navigation">
        <a class="floating-prev" href="excel-model.html" aria-label="Back to Excel Model">← Excel Model</a>
        <a class="floating-next" href="future-backtest.html" aria-label="Next to Future Backtest">Future Backtest →</a>
      </div>
    </section>

    <!-- =========================
         CONTAINER 2 — TABLEAU (LIVE)
         ========================= -->
    <section class="hero" aria-label="Tableau Past Backtest (Live)">
           <!-- ✅ background image = images/Tablue.png -->
<div class="hero-bg" aria-hidden="true"
     style='background-image: var(--hero-overlay), url("images/Tablue.png");'></div>

      <article class="hero-card wide">
        <h2 class="hero-title" style="font-size: clamp(2.2rem, 4vw, 3.0rem);">
          Tableau — Past Backtest (Live)
        </h2>
        <p class="hero-subtitle">Live dashboard view for the Past Backtest only.</p>

        <!-- ✅ CLEAN: keep ONLY the Tableau embed block (no duplicates) -->
        <div class="tableauPlaceholder" id="vizPastBacktest" style="position: relative;">
          <noscript>
            <a href="#">
              <img alt="Backtest – Past"
                   src="https://public.tableau.com/static/images/Go/GoldForecastingModel/BacktestPast/1_rss.png"
                   style="border: none;" />
            </a>
          </noscript>

          <object class="tableauViz" style="display:none;">
            <param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F" />
            <param name="embed_code_version" value="3" />
            <param name="site_root" value="" />
            <param name="name" value="GoldForecastingModel/BacktestPast" />
            <param name="tabs" value="no" />
            <param name="toolbar" value="yes" />
            <param name="static_image" value="https://public.tableau.com/static/images/Go/GoldForecastingModel/BacktestPast/1.png" />
            <param name="animate_transition" value="yes" />
            <param name="display_static_image" value="yes" />
            <param name="display_spinner" value="yes" />
            <param name="display_overlay" value="yes" />
            <param name="display_count" value="yes" />
            <param name="language" value="en-US" />
            <param name="filter" value="publish=yes" />
          </object>
        </div>

        <script src="https://public.tableau.com/javascripts/api/viz_v1.js"></script>
        <script>
          (function () {
            const divElement = document.getElementById("vizPastBacktest");
            const vizElement = divElement.getElementsByTagName("object")[0];
            vizElement.style.width = "100%";
            vizElement.style.height = (divElement.offsetWidth * 0.75) + "px";
          })();
        </script>
      </article>

      <div class="floating-nav" aria-label="Page navigation">
        <a class="floating-prev" href="excel-model.html" aria-label="Back to Excel Model">← Excel Model</a>
        <a class="floating-next" href="future-backtest.html" aria-label="Next to Future Backtest">Future Backtest →</a>
      </div>
    </section>

  <!-- =========================
     CONTAINER 3 — ANALYSIS (Past Backtest)
     ========================= -->
<section class="hero" aria-label="Past Backtest Analysis">
  <!-- ✅ background image = images/Analysis.jpg -->
<div class="hero-bg" aria-hidden="true"
     style='background-image: var(--hero-overlay), url("images/Analysis.jpg");'></div>

  <article class="hero-card wide">
    <h2 class="hero-title" style="font-size: clamp(2.2rem, 4vw, 3.0rem);">
      Analysis &amp; Interpretation
    </h2>

    <div class="hero-meta" style="text-align:left; max-width: 920px; margin-top: 0.8rem;">
      <p style="margin:0 0 0.8rem;">
        <strong>Backtest accuracy (Price level):</strong> Metrics computed from <em>Gold_Price_USD</em> vs <em>Model_Price_Path</em>
        on the <em>Backtest_Past</em> sheet (excluding the first anchor month).
      </p>

      <!-- Symmetric metrics row -->
      <div style="
        display:grid;
        grid-template-columns: repeat(3, minmax(180px, 1fr));
        gap: 14px;
        align-items: stretch;
        margin: 0.6rem 0 0.9rem;
      ">
        <div style="
          background: rgba(255,255,255,0.60);
          border: 1px solid rgba(148,163,184,0.28);
          border-radius: 16px;
          padding: 14px 14px;
          text-align:center;
          box-shadow: 0 10px 24px rgba(15,23,42,0.10);
        ">
          <div style="font-weight:800; font-size:1.05rem; color: var(--ink-900);">MAD</div>
          <div style="font-size:0.92rem; color: var(--ink-700); margin-top: 4px;">avg(|A − F|)</div>
          <div style="font-weight:900; font-size:1.35rem; margin-top: 10px; color: var(--ink-900);">
            212.04
          </div>
        </div>

        <div style="
          background: rgba(255,255,255,0.60);
          border: 1px solid rgba(148,163,184,0.28);
          border-radius: 16px;
          padding: 14px 14px;
          text-align:center;
          box-shadow: 0 10px 24px rgba(15,23,42,0.10);
        ">
          <div style="font-weight:800; font-size:1.05rem; color: var(--ink-900);">MSE</div>
          <div style="font-size:0.92rem; color: var(--ink-700); margin-top: 4px;">avg((A − F)²)</div>
          <div style="font-weight:900; font-size:1.35rem; margin-top: 10px; color: var(--ink-900);">
            73,458.44
          </div>
        </div>

        <div style="
          background: rgba(255,255,255,0.60);
          border: 1px solid rgba(148,163,184,0.28);
          border-radius: 16px;
          padding: 14px 14px;
          text-align:center;
          box-shadow: 0 10px 24px rgba(15,23,42,0.10);
        ">
          <div style="font-weight:800; font-size:1.05rem; color: var(--ink-900);">MAPE</div>
          <div style="font-size:0.92rem; color: var(--ink-700); margin-top: 4px;">avg(|A − F|/A) × 100%</div>
          <div style="font-weight:900; font-size:1.35rem; margin-top: 10px; color: var(--ink-900);">
            15.39%
          </div>
        </div>
      </div>

      <div style="margin-top: 0.4rem; color: var(--ink-700); line-height: 1.55;">
        <p style="margin:0 0 0.55rem;">
          <strong>Interpretation:</strong> A MAPE of <strong>15.39%</strong> indicates the model’s implied historical price path
          deviates from actual prices by ~15% on average. This is consistent with a factor-based linear model that can track
          regimes/direction better than sudden shock magnitudes.
        </p>
        <p style="margin:0;">
          <strong>Decision use:</strong> Use the backtest mainly to judge <em>direction, timing, and regime shifts</em>
          for procurement and hedging decisions—expect larger gaps during structural breaks (rate shocks, USD jumps, geopolitical events).
        </p>
      </div>
    </div>
  </article>
</section>

      <div class="floating-nav" aria-label="Page navigation">
        <a class="floating-prev" href="excel-model.html" aria-label="Back to Excel Model">← Excel Model</a>
        <a class="floating-next" href="future-backtest.html" aria-label="Next to Future Backtest">Future Backtest →</a>
      </div>
    </section>

  </main>

  <!-- FOOTER (same on every page) -->
  <section class="footer-band" aria-label="Footer band">
    <footer class="site-footer">
      <div class="footer-left">
        <img class="footer-nyit" src="images/Nyit.png" alt="NYIT Logo" />
      </div>

      <div class="footer-center">
        © 2025 Gold Forecasting Model • NYIT • Supply Chain Management
      </div>

      <div class="footer-right">
        Contact:
        <a href="mailto:prathe01@nyit.edu">prathe01@nyit.edu</a>
      </div>
    </footer>
  </section>

  <!-- Fill metric values -->
  <script>
    // Update these values if you recompute from a different range/series
    const METRICS = {
      mad: 350.36,
      mse: 165950.88,
      mape: 26.86
    };

    document.getElementById("madValue").textContent = METRICS.mad.toFixed(2);
    document.getElementById("mseValue").textContent = METRICS.mse.toFixed(2);
    document.getElementById("mapeValue").textContent = METRICS.mape.toFixed(2) + "%";
  </script>

  <script src="app.js"></script>
</body>
</html>

